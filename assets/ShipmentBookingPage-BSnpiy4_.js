import{j as e,d as t,b as n,a as r,e as a,f as s,n as i,w as l,k as o,q as d,I as c}from"./ui-BUgdJNRx.js";import{r as u,L as m,b as p,u as h}from"./vendor-D4-GdBKu.js";import{c as x,J as g,L as f,C as v,a as y,b,P as j,d as N,B as k,e as w,f as S,g as C,u as P,T as D,h as L,i as z,I as E,j as I,k as A,l as M,m as R,n as F,o as _,p as $,q as B,N as O}from"./index-D_ehuLNH.js";import{t as T,s as H,e as V,i as q,a as G,b as X,D as W,C as J,c as Y,f as U,d as K}from"./index.esm-DSHmzm4P.js";import{s as Z,g as Q,D as ee}from"./bookingDb-CKGpHBMT.js";import{S as te,a as ne,b as re,c as ae,d as se,u as ie}from"./select-BcPVHiVg.js";import{C as le}from"./circle-alert-DStINSP7.js";
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oe=x("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]),de=x("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]),ce=x("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]),ue=x("GripVertical",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"9",cy:"5",r:"1",key:"hp0tcf"}],["circle",{cx:"9",cy:"19",r:"1",key:"fkjjf6"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["circle",{cx:"15",cy:"19",r:"1",key:"f4zoj3"}]]),me=x("LockKeyhole",[["circle",{cx:"12",cy:"16",r:"1",key:"1au0dj"}],["rect",{x:"3",y:"10",width:"18",height:"12",rx:"2",key:"6s8ecr"}],["path",{d:"M7 10V7a5 5 0 0 1 10 0v3",key:"1pqi11"}]]),pe=x("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);
/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */function he(e,t){const n=+T(e),[r,a]=[+T(t.start),+T(t.end)].sort(((e,t)=>e-t));return n>=r&&n<=a}const xe=(e,t)=>function(e){const t=T(e.start),n=T(e.end);let r=+t>+n;const a=r?+t:+n,s=r?n:t;s.setHours(0,0,0,0);const i=[];for(;+s<=a;)i.push(T(s)),s.setDate(s.getDate()+1),s.setHours(0,0,0,0);return r?i.reverse():i}({start:H(e),end:V(e)}).map((e=>{if(he(e,t)){const t=e.getDay();let n=0===t||6===t?{low:.1,medium:.3,high:.6}:{low:.5,medium:.3,high:.2};const r=Math.random();let a;a=r<n.low?"low":r<n.low+n.medium?"medium":"high";const s={low:8.99,medium:10.99,high:13.99},i={low:{min:10,max:50},medium:{min:51,max:150},high:{min:151,max:300}},l=Math.floor(Math.random()*(i[a].max-i[a].min+1)+i[a].min);return{date:e,loadFactor:a,basePrice:s[a],estimatedOrders:l}}return{date:e,loadFactor:"medium",basePrice:0,estimatedOrders:0}})),ge={},fe=async e=>{try{if(!e.pickup||!e.delivery)return{success:!1,message:"Pickup and delivery addresses are required"};if(!e.userId)return{success:!1,message:"User ID is required"};const r=`SHIP-${Math.floor(1e6*Math.random())}`,a=`EP${Math.floor(1e7*Math.random())}FI`,s=(t=e.carrier.price,n=e.includeCompliance,t+(n?2:0)),i=`https://api.shipping.com/labels/${a}`,l=new Date;l.setHours(l.getHours()+2);const o=l.toISOString(),d=new Date;"express"===e.deliverySpeed?d.setDate(d.getDate()+1):"standard"===e.deliverySpeed?d.setDate(d.getDate()+3):d.setDate(d.getDate()+5);const c=d.toISOString(),u=new Date;u.setHours(u.getHours()+24);const m={id:r,tracking_code:a,user_id:e.userId,status:"pending",sender_address:"string"==typeof e.pickup?e.pickup:JSON.stringify(e.pickup),recipient_address:"string"==typeof e.delivery?e.delivery:JSON.stringify(e.delivery),package_weight:e.weight,package_dimensions:`${e.dimensions.length}x${e.dimensions.width}x${e.dimensions.height}`,carrier_name:e.carrier.name,total_price:s,cancellation_deadline:u.toISOString(),can_be_cancelled:!0,delivery_speed:e.deliverySpeed,compliance_included:e.includeCompliance,created_at:(new Date).toISOString(),shipment_id:r,customerType:e.customerType||"private",businessName:e.businessName,vatNumber:e.vatNumber,payment_method:e.paymentMethod,payment_details:e.paymentDetails?JSON.stringify(e.paymentDetails):null,delivery_date:e.deliveryDate,terms_accepted:e.termsAccepted||!1};ge[a]=m;if(!(await Z(e,a,i,o,s,c,u)))return g.error("Failed to save your booking to the database. Please try again."),{success:!1,message:"Failed to save booking to database"};await new Promise((e=>setTimeout(e,1500)));const p=JSON.parse(localStorage.getItem(`bookings_${e.userId}`)||"[]");return p.push(m),localStorage.setItem(`bookings_${e.userId}`,JSON.stringify(p)),g.success("Shipment booked successfully!"),{success:!0,message:"Shipment booked successfully",shipmentId:r,trackingCode:a,totalPrice:s,cancellationDeadline:u.toISOString(),canBeCancelled:!0}}catch(r){return g.error("An error occurred while booking your shipment."),{success:!1,message:"Failed to book shipment"}}var t,n},ve=e=>{const[t,n]=u.useState("5"),[r,a]=u.useState("20"),[s,i]=u.useState("15"),[l,o]=u.useState("10"),[d,c]=u.useState("Stockholm, SE"),[m,p]=u.useState("112 23"),[h,x]=u.useState("Helsinki, FI"),[f,v]=u.useState("00341"),[y,b]=u.useState("standard"),[j,N]=u.useState(!1),[k,w]=u.useState(!1),[S,C]=u.useState(null),[P,D]=u.useState("private"),[L,z]=u.useState(""),[E,I]=u.useState(""),[A,M]=u.useState(!1),[R,F]=u.useState(!1),[_,$]=u.useState("en"),[B,O]=u.useState(!1),[T,H]=u.useState("SE"),[V,q]=u.useState("FI"),[W,J]=u.useState(1),[Y,U]=u.useState(""),[K,Z]=u.useState(""),[ee,te]=u.useState(""),[ne,re]=u.useState(""),[ae,se]=u.useState(""),[ie,le]=u.useState(""),[oe,de]=u.useState(""),[ce,ue]=u.useState(""),[me,pe]=u.useState("m"),[he,ge]=u.useState(null),[ve,ye]=u.useState(!1),[be,je]=u.useState(new Date),[Ne,ke]=u.useState([]),[we,Se]=u.useState(!1),[Ce,Pe]=u.useState(null),[De,Le]=u.useState(null),ze=G(new Date),Ee={start:ze,end:X(ze,3)},Ie=()=>{Se(!0),setTimeout((()=>{const e=xe(be,Ee);ke(e),Se(!1)}),600)},Ae={id:1,name:"E-Parcel Nordic",price:(()=>{switch(me){case"xxs":return 5.9;case"s":return 7.9;case"m":default:return 9.9;case"l":return 11.9;case"xl":return 19.9;case"xxl":return 39.9}})(),eta:"3 days",icon:"ðŸ“¦"},Me=async()=>{var n;if(e)if(De){w(!0);try{const n={name:Y,address:ne,postalCode:m,city:"Stockholm",country:T,phone:ee,email:K},a={name:ae,address:ce,postalCode:f,city:"Helsinki",country:V,phone:oe,email:ie},i=await fe({weight:t,dimensions:{length:r,width:s,height:l},pickup:n,delivery:a,carrier:{name:Ae.name,price:Ae.price},deliverySpeed:y,includeCompliance:j,userId:e,customerType:P||"private",businessName:"business"===P||"ecommerce"===P?L:void 0,vatNumber:"business"===P?E:void 0,pickupSlotId:"slot-1",paymentMethod:De.paymentMethod,paymentDetails:{cardNumber:De.cardNumber,expiryDate:De.expiryDate,cardholderName:De.cardholderName,swishNumber:De.swishNumber,bankName:De.bankName},termsAccepted:De.termsAccepted,deliveryDate:Ce?Ce.toISOString():void 0});i.success?(C(i),M(!0),F(!0),localStorage.setItem("lastBooking",JSON.stringify({trackingCode:i.trackingCode,timestamp:(new Date).toISOString()})),g.success(`Your shipment has been booked with tracking code: ${i.trackingCode}`)):g.error(i.message||"There was a problem with your booking.")}catch(a){g.error("An unexpected error occurred.")}finally{w(!1)}}else g.error("Payment information is missing");else null==(n=document.querySelector("button.cl-userButtonTrigger"))||n.click()};return{weight:t,length:r,width:s,height:l,pickup:d,pickupPostalCode:m,delivery:h,deliveryPostalCode:f,deliverySpeed:y,compliance:j,isBooking:k,bookingResult:S,selectedCustomerType:P,businessName:L,vatNumber:E,bookingConfirmed:A,canCancelBooking:R,labelLanguage:_,isGeneratingLabel:B,pickupCountry:T,deliveryCountry:V,currentStep:W,senderName:Y,senderEmail:K,senderPhone:ee,senderAddress:ne,recipientName:ae,recipientEmail:ie,recipientPhone:oe,recipientAddress:ce,selectedVolume:me,selectedDeliveryOption:he,showPriceCalendar:ve,currentMonth:be,pricingData:Ne,isCalendarLoading:we,selectedDeliveryDate:Ce,paymentData:De,dateRange:Ee,carrier:Ae,setWeight:n,setLength:a,setWidth:i,setHeight:o,setPickup:c,setPickupPostalCode:p,setDelivery:x,setDeliveryPostalCode:v,setDeliverySpeed:b,setCompliance:N,setSelectedCustomerType:D,setBusinessName:z,setVatNumber:I,setLabelLanguage:$,setPickupCountry:H,setDeliveryCountry:q,setCurrentStep:J,setSenderName:U,setSenderEmail:Z,setSenderPhone:te,setSenderAddress:re,setRecipientName:se,setRecipientEmail:le,setRecipientPhone:de,setRecipientAddress:ue,setSelectedVolume:pe,setCurrentMonth:je,loadPriceCalendarData:Ie,handleSwapLocations:()=>{const e=d,t=m,n=T;c(h),p(f),H(V),x(e),v(t),q(n)},handleNextStep:()=>{J(W+1)},handlePreviousStep:()=>{J(W-1)},handleDeliveryOptionSelect:e=>{ge(e),"fast"===e?(b("express"),ye(!1),Pe(null),g.success("Fast delivery selected - Your package will arrive in 1-2 business days")):"cheap"===e&&(b("economy"),ye(!0),g.success("Cheap delivery selected - Please choose a delivery date"),Ie())},handleDeliveryDateSelect:e=>{Pe(e),g.success(`Delivery date selected: ${e.toLocaleDateString()}`)},checkSavedBooking:async()=>{if(e){const t=localStorage.getItem("lastBooking");if(t){const{trackingCode:n,timestamp:r}=JSON.parse(t),a=await Q(n,e);if(a){C(a),M(!0);const e=new Date(a.cancellation_deadline);new Date<e?F(!0):(localStorage.removeItem("lastBooking"),F(!1))}else localStorage.removeItem("lastBooking")}}},handleBookShipment:Me,handleCancelBooking:async()=>{if(!(null==S?void 0:S.trackingCode)&&!(null==S?void 0:S.tracking_code)||!e)return;const t=S.trackingCode||S.tracking_code;try{const n=await(async(e,t)=>{try{const n=JSON.parse(localStorage.getItem(`bookings_${t}`)||"[]"),r=n.findIndex((t=>t.tracking_code===e));if(-1===r)return!1;const a=n[r];return!!a.can_be_cancelled&&(a.status="cancelled",a.can_be_cancelled=!1,n[r]=a,localStorage.setItem(`bookings_${t}`,JSON.stringify(n)),!0)}catch(n){return!1}})(t,e);n?(M(!1),C(null),F(!1),localStorage.removeItem("lastBooking"),g.success("Your booking has been successfully cancelled.")):g.error("Unable to cancel booking. Please try again or contact support.")}catch(n){g.error("An unexpected error occurred.")}},handleGenerateLabel:async()=>{if(!S)return;const e=S.trackingCode||S.tracking_code,n=S.shipmentId||"SHIP-"+Math.floor(1e6*Math.random());if(e){O(!0);try{const a=`${r}x${s}x${l} cm`,i=await generateLabel({shipmentId:n,carrierName:S.carrier_name||"E-Parcel",trackingCode:e,senderAddress:d,recipientAddress:h,packageDetails:{weight:t,dimensions:a},language:_});if(i.success){S.labelUrl||C({...S,labelUrl:i.labelUrl}),window.open(i.labelUrl,"_blank");const e="en"===_?"English":"fi"===_?"Finnish":"sv"===_?"Swedish":"no"===_?"Norwegian":"Danish";g.success(`Label has been generated in ${e}`)}else g.error(i.message||"Unable to generate shipping label")}catch(a){g.error("An unexpected error occurred")}finally{O(!1)}}else g.error("Unable to generate label: missing tracking code")},handlePaymentComplete:e=>{Le(e),Me()}}},ye=({value:t,onChange:n})=>e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"label-language",className:"text-sm font-medium",children:"Label Language"}),e.jsxs(te,{value:t,onValueChange:n,children:[e.jsx(ne,{id:"label-language",className:"w-full bg-background border-input",children:e.jsx(re,{placeholder:"Select language"})}),e.jsxs(ae,{children:[e.jsx(se,{value:"en",children:"English"}),e.jsx(se,{value:"fi",children:"Finnish"}),e.jsx(se,{value:"sv",children:"Swedish"}),e.jsx(se,{value:"no",children:"Norwegian"}),e.jsx(se,{value:"da",children:"Danish"})]})]})]}),be=({bookingResult:t,carrier:n,canCancelBooking:r,labelLanguage:a,setLabelLanguage:s,isGeneratingLabel:i,handleGenerateLabel:l,handleCancelBooking:o,onBookAnother:d})=>e.jsxs(v,{className:"max-w-4xl mx-auto",children:[e.jsx(y,{children:e.jsxs(b,{className:"flex items-center gap-2",children:[e.jsx(j,{className:"h-6 w-6 text-primary"}),"Booking Confirmed"]})}),e.jsxs(N,{className:"space-y-6",children:[e.jsxs("div",{className:"bg-green-50 p-6 rounded-lg border border-green-200",children:[e.jsx("h2",{className:"text-xl font-semibold text-green-800 mb-4",children:"Your shipment is booked!"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Tracking Code"}),e.jsx("p",{className:"text-lg font-mono font-medium",children:(null==t?void 0:t.trackingCode)||(null==t?void 0:t.tracking_code)})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Carrier"}),e.jsx("p",{className:"text-lg font-medium",children:(null==t?void 0:t.carrier_name)||n.name})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Total Price"}),e.jsxs("p",{className:"text-lg font-medium",children:["â‚¬",(null==t?void 0:t.totalPrice)||(null==t?void 0:t.total_price)]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-sm font-medium text-gray-500",children:"Estimated Delivery"}),e.jsx("p",{className:"text-lg font-medium",children:n.eta})]})]}),e.jsxs("div",{className:"mt-6 border-t border-green-200 pt-6",children:[e.jsx("h3",{className:"font-medium mb-2",children:"Shipping Label"}),e.jsxs("div",{className:"flex items-end gap-4",children:[e.jsx("div",{className:"flex-1",children:e.jsx(ye,{value:a,onChange:s})}),e.jsxs(k,{variant:"outline",className:"flex items-center gap-2",onClick:l,disabled:i,children:[e.jsx(ee,{className:"h-4 w-4"}),i?"Generating...":"Generate & Download Label"]})]})]})]}),r&&e.jsxs("div",{className:"border border-amber-200 rounded-lg p-4 bg-amber-50",children:[e.jsx("h3",{className:"font-medium text-amber-800 mb-2",children:"Need to cancel?"}),e.jsxs("p",{className:"text-sm text-amber-700 mb-4",children:["You can cancel this booking until:",e.jsx("span",{className:"font-medium block",children:new Date(t.cancellationDeadline||t.cancellation_deadline).toLocaleString()})]}),e.jsx(k,{variant:"outline",className:"text-red-600 border-red-200 hover:bg-red-50",onClick:o,children:"Cancel Booking"})]}),e.jsxs("div",{className:"flex justify-between gap-4 pt-4",children:[e.jsx(k,{variant:"outline",asChild:!0,children:e.jsx(m,{to:"/dashboard",children:"View All Shipments"})}),e.jsx(k,{onClick:d,children:"Book Another Shipment"})]})]})]});function je({className:t,classNames:n,showOutsideDays:r=!0,...a}){return e.jsx(W,{showOutsideDays:r,classNames:{months:"flex flex-col sm:flex-row gap-6 w-full min-h-[500px] bg-prima ",month:"space-y-4 shadow-md rounded-lg overflow-hidden",caption:"flex justify-between items-center py-3 px-5 bg-slate-50 border-b",caption_label:"text-base font-bold ",nav:"flex items-center space-x-2",nav_button:w(S({variant:"outline"}),"h-10 w-10 bg-white text-slate-600 border-slate-200 rounded-full hover:bg-slate-100 transition-all"),nav_button_previous:"",nav_button_next:"",table:"w-full border-collapse table-fixed",head_row:"bg-primary",head_cell:"text-slate-500 font-semibold text-xs uppercase py-3 text-white",row:"table-row border-b last:border-b-0 border-primary",cell:"table-cell h-20 text-center text-sm relative",day:w(S({variant:"ghost"}),"h-16 w-16 p-0 font-medium rounded-md  hover:bg-slate-100 hover:text-slate-900 transition-all mx-auto"),day_range_end:"bg-primary text-white rounded-r-md",day_selected:"bg-primary text-white font-bold hover:bg-primary-dark",day_today:"border border-primary text-primary font-semibold",day_outside:"text-slate-400 opacity-60",day_disabled:"text-slate-300 opacity-50 cursor-not-allowed",day_range_middle:"bg-slate-800 text-slate-700",day_hidden:"invisible",...n},components:{IconLeft:t=>e.jsx(J,{...t,className:"h-6 w-6 text-slate-600"}),IconRight:t=>e.jsx(C,{...t,className:"h-6 w-6 text-slate-600"})},...a})}je.displayName="CalendarPrice";const Ne=({date:t,currentMonth:n,pricingData:r,dateRange:a,onSelect:s,isSelected:i=!1})=>{const l=((e,t)=>e.find((e=>q(e.date,t))))(r,t),o=he(t,a),d=o&&l&&l.basePrice>0&&"low"===l.loadFactor;let c="h-16 w-full p-0 font-normal flex flex-col items-center justify-center rounded hover:bg-gray-50 relative cursor-default";if(Y(t,n))if(o&&l){const e={low:"bg-green-50 hover:bg-green-100 border-green-200 text-black",medium:"bg-yellow-50 hover:bg-yellow-100 border-yellow-200 text-yellow-800",high:"bg-red-50 hover:bg-red-100 border-red-200 text-red-800"};l.basePrice>0&&"low"==l.loadFactor?c+=` ${e[l.loadFactor]} border-b-2 cursor-pointer`:c+=" text-gray-400"}else c+=" text-gray-400";else c+=" text-gray-300 opacity-50";i&&l&&"low"==l.loadFactor&&(c+=" ring-2 ring-green-600");const u=l&&l.basePrice>0?"text-xs font-normal":"text-sm";return e.jsxs("div",{className:c,onClick:e=>{d&&s&&(e.preventDefault(),e.stopPropagation(),s(t))},children:[e.jsx("span",{className:u,children:U(t,"d")}),o&&l&&l.basePrice>0&&e.jsx("span",{className:"text-[11px] font-medium",children:(m=l.basePrice,new Intl.NumberFormat("en-US",{style:"currency",currency:"EUR",minimumFractionDigits:2,maximumFractionDigits:2}).format(m))}),o&&l&&l.basePrice>0&&"low"===l.loadFactor&&e.jsx("div",{className:"absolute -bottom-1 left-1/2 transform -translate-x-1/2",children:e.jsx("span",{className:"text-[9px] px-1 py-0.5 bg-green-600 text-white rounded-sm",children:"Save"})})]});var m},ke=({currentMonth:t,setCurrentMonth:n,pricingData:r,isLoading:a,dateRange:s,onDateSelect:i,selectedDate:l})=>{const{t:o}=P();return e.jsxs(v,{className:"h-full bg-white border border-gray-100 shadow-sm",children:[e.jsxs(y,{className:"flex flex-row items-center justify-between pb-2",children:[e.jsx("div",{className:"flex items-center space-x-2",children:e.jsx("h4",{className:"text-sm font-medium"})}),e.jsx(D,{children:e.jsxs(L,{children:[e.jsx(z,{asChild:!0,children:e.jsx(k,{variant:"ghost",size:"icon",className:"h-8 w-8 text-gray-500",children:e.jsx(E,{className:"h-4 w-4"})})}),e.jsx(I,{className:"max-w-xs",children:e.jsx("p",{children:o("shipping.priceCalendarInfo","Shipping rates vary based on demand.")})})]})})]}),e.jsx(N,{children:a?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-b-2 border-primary"})}):e.jsx("div",{className:"flex justify-center items-center transform origin-center pb-8",children:e.jsx(je,{mode:"single",month:t,onMonthChange:n,selected:l||void 0,onSelect:e=>e&&(null==i?void 0:i(e)),className:"mx-auto rounded-md border-0 w-full max-w-[90%] pointer-events-auto flex flex-col items-center",showOutsideDays:!0,components:{Day:({date:n,...a})=>e.jsx("div",{...a,children:n&&e.jsx(Ne,{date:n,currentMonth:t,pricingData:r,dateRange:s,onSelect:i,isSelected:!(!l||!n)&&l.getTime()===n.getTime()})})}})})})]})},we=({bookingState:t})=>{const{selectedDeliveryOption:n,handleDeliveryOptionSelect:r,showPriceCalendar:a,currentMonth:s,setCurrentMonth:i,pricingData:l,isCalendarLoading:o,dateRange:d,selectedDeliveryDate:c,handleDeliveryDateSelect:u,handleNextStep:m}=t;return e.jsxs("div",{children:[e.jsxs("div",{className:"mt-8 border rounded-lg shadow-sm",children:[e.jsx("div",{className:"bg-slate-700 text-white p-3 font-semibold",children:"Select Delivery Option"}),e.jsxs("div",{className:"p-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsx(k,{onClick:()=>r("fast"),type:"button",className:"h-20 text-left p-4 rounded-lg border transition-all duration-200 \n              "+("fast"===n?" text-white":"bg-white border-gray-300 text-gray-700 hover:bg-gray-100"),children:e.jsxs("div",{className:"flex flex-col items-start space-y-1",children:[e.jsx("span",{className:"font-medium text-base",children:"Fast Delivery"}),e.jsx("span",{className:"text-sm text-black-600",children:"Arrives in 2-4 business days"})]})}),e.jsx(k,{onClick:()=>r("cheap"),type:"button",className:"h-20 text-left p-4 rounded-lg border transition-all duration-200 \n              "+("cheap"===n?"text-white":"bg-white border-gray-300 text-gray-700 hover:bg-gray-100"),children:e.jsxs("div",{className:"flex flex-col items-start space-y-1",children:[e.jsx("span",{className:"font-medium text-base",children:"Cheap Delivery"}),e.jsx("span",{className:"text-sm text-black-600",children:"Save money by selecting a specific date"})]})})]}),a&&e.jsxs("div",{className:"px-6 pb-6",children:[e.jsxs("div",{className:"mt-4 mb-2 flex items-center",children:[e.jsx(K,{className:"h-5 w-5 mr-2 text-blue-500"}),e.jsx("h3",{className:"font-medium",children:"Select delivery date to get the best price"})]}),e.jsx("div",{className:"border rounded-lg shadow-sm bg-white",children:e.jsx(ke,{currentMonth:s,setCurrentMonth:i,pricingData:l,isLoading:o,dateRange:d,onDateSelect:u,selectedDate:c})}),c&&e.jsx("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-md",children:e.jsxs("p",{className:"text-blue-800",children:[e.jsx("span",{className:"font-medium",children:"Delivery date selected: "}),c.toLocaleDateString()]})})]})]}),e.jsx("div",{className:"flex justify-end mt-6",children:e.jsx(k,{type:"button",onClick:m,className:"bg-green-600 hover:bg-green-700 text-white",disabled:"cheap"===n&&!c,children:"Continue"})})]})},Se=({senderName:t,setSenderName:n,senderEmail:r,setSenderEmail:a,senderPhone:s,setSenderPhone:i,senderAddress:l,setSenderAddress:o,recipientName:d,setRecipientName:c,recipientEmail:u,setRecipientEmail:m,recipientPhone:p,setRecipientPhone:h,recipientAddress:x,setRecipientAddress:g,pickupCountry:v,pickupPostalCode:y,deliveryCountry:b,deliveryPostalCode:j})=>e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"border rounded-lg mb-8",children:[e.jsx("div",{className:"bg-slate-700 text-white p-3 font-semibold",children:"AvsÃ¤ndare"}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"senderName",children:"Namn"}),e.jsx(A,{id:"senderName",placeholder:"AvsÃ¤ndarens namn",value:t,onChange:e=>n(e.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"senderPhone",children:"Telefon"}),e.jsx(A,{id:"senderPhone",placeholder:"Telefonnummer",value:s,onChange:e=>i(e.target.value),required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"senderEmail",children:"E-post"}),e.jsx(A,{id:"senderEmail",type:"email",placeholder:"E-postadress",value:r,onChange:e=>a(e.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"senderAddress",children:"Adress"}),e.jsx(A,{id:"senderAddress",placeholder:"Gatunamn, husnummer",value:l,onChange:e=>o(e.target.value),required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"senderPostalCode",children:"Postnummer"}),e.jsx(A,{id:"senderPostalCode",value:y,disabled:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"senderCountry",children:"Land"}),e.jsx(A,{id:"senderCountry",value:v,disabled:!0})]})]})]})]}),e.jsxs("div",{className:"border rounded-lg mb-8",children:[e.jsx("div",{className:"bg-slate-700 text-white p-3 font-semibold",children:"Mottagare"}),e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"recipientName",children:"Namn"}),e.jsx(A,{id:"recipientName",placeholder:"Mottagarens namn",value:d,onChange:e=>c(e.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"recipientPhone",children:"Telefon"}),e.jsx(A,{id:"recipientPhone",placeholder:"Telefonnummer",value:p,onChange:e=>h(e.target.value),required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"recipientEmail",children:"E-post"}),e.jsx(A,{id:"recipientEmail",type:"email",placeholder:"E-postadress",value:u,onChange:e=>m(e.target.value),required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"recipientAddress",children:"Adress"}),e.jsx(A,{id:"recipientAddress",placeholder:"Gatunamn, husnummer",value:x,onChange:e=>g(e.target.value),required:!0})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"recipientPostalCode",children:"Postnummer"}),e.jsx(A,{id:"recipientPostalCode",value:j,disabled:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"recipientCountry",children:"Land"}),e.jsx(A,{id:"recipientCountry",value:b,disabled:!0})]})]})]})]})]}),Ce=({selectedVolume:t,onVolumeSelect:n})=>{P();return e.jsxs("div",{className:"my-6",children:[e.jsx("h2",{className:"text-2xl font-medium mb-6",children:"VÃ¤lj paketstorlek"}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[{id:"xxs",name:"SmÃ¥paket (XXS)",dimensions:"max. 3 x 25 x 35 cm, 2 kg",deliveryTime:"Framme inom 5 arbetsdagar",price:5.9},{id:"s",name:"S paket",dimensions:"max. 11 x 32 x 42 cm, 25 kg",deliveryTime:"Framme inom 1â€“3 arbetsdagar",price:7.9},{id:"m",name:"M paket",dimensions:"max. 19 x 36 x 60 cm, 25 kg",deliveryTime:"Framme inom 1â€“3 arbetsdagar",price:9.9},{id:"l",name:"L paket",dimensions:"max. 37 x 36 x 60 cm, 25 kg",deliveryTime:"Framme inom 1â€“3 arbetsdagar",price:11.9},{id:"xl",name:"XL paket",dimensions:"max. 100 x 60 x 40 cm, 25 kg",deliveryTime:"Framme inom 1â€“3 arbetsdagar",price:19.9},{id:"xxl",name:"XXL paket",dimensions:"Max 200 cm och lÃ¤ngd + omkrets max 300 cm, max 25 kg",deliveryTime:"Framme inom 1â€“3 arbetsdagar",price:39.9}].map((r=>e.jsxs("div",{className:`\n              relative rounded-lg overflow-hidden cursor-pointer \n              ${t===r.id?"border-2 border-primary shadow-md":"border border-gray-200 hover:border-gray-300 hover:shadow-sm"}\n            `,onClick:()=>n(r.id),children:[r.badge&&e.jsx("div",{className:"absolute top-0 left-0 bg-slate-700 text-white text-xs py-1 px-2 rounded-br-md",children:r.badge}),e.jsxs("div",{className:"p-4",children:[e.jsx("h3",{className:"font-medium text-lg",children:r.name}),e.jsx("p",{className:"text-sm text-slate-600 my-2",children:r.dimensions}),e.jsx("p",{className:"text-sm text-slate-600 mb-4",children:r.deliveryTime}),e.jsxs("div",{className:`\n                text-center py-2 px-4 rounded-full font-medium\n                ${t===r.id?"bg-primary text-white":"bg-blue-500 text-white"}\n              `,children:[r.price.toFixed(2)," â‚¬"]})]})]},r.id)))}),e.jsxs("div",{className:"mt-8 bg-slate-100 rounded-lg p-6",children:[e.jsx("h3",{className:"font-medium text-lg mb-4",children:"OsÃ¤ker pÃ¥ paketets storlek?"}),e.jsx("p",{className:"text-slate-600 mb-4",children:"MÃ¤t paketets bredd, hÃ¶jd och djup. Fyll i informationen i fÃ¤lten nedan fÃ¶r att fÃ¥ en storleksrekommendation fÃ¶r ditt paket."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",placeholder:"Bredd",className:"w-full border border-gray-300 rounded-lg py-2 px-4 pr-12"}),e.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-500",children:"cm"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",placeholder:"HÃ¶jd",className:"w-full border border-gray-300 rounded-lg py-2 px-4 pr-12"}),e.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-500",children:"cm"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"number",placeholder:"Djup",className:"w-full border border-gray-300 rounded-lg py-2 px-4 pr-12"}),e.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-slate-500",children:"cm"})]})]}),e.jsx("button",{className:"mt-4 border border-blue-500 text-blue-500 hover:bg-blue-50 rounded-full py-2 px-6 transition-colors",children:"Visa lÃ¤mpliga storlekar"})]})]})},Pe=({selectedVolume:t,setSelectedVolume:n})=>e.jsxs("div",{className:"border rounded-lg mb-8",children:[e.jsx("div",{className:"bg-slate-700 text-white p-3 font-semibold",children:"Ange sÃ¤ndningsdetaljer"}),e.jsx("div",{className:"p-6",children:e.jsx(Ce,{selectedVolume:t,onVolumeSelect:n})})]}),De=({senderName:t,senderAddress:n,pickupPostalCode:r,pickupCountry:a,recipientName:s,recipientAddress:i,deliveryPostalCode:l,deliveryCountry:o})=>e.jsxs("div",{className:"bg-slate-50 p-6 rounded-lg border",children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:"Sammanfattning"}),e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:"bg-slate-200 p-3 rounded-md",children:e.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",className:"text-slate-700",children:[e.jsx("path",{d:"M12 3L20 7.5V16.5L12 21L4 16.5V7.5L12 3Z",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M12 12L20 7.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M12 12V21",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),e.jsx("path",{d:"M12 12L4 7.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]})}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-8 gap-y-2 flex-1",children:[e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"FrÃ¥n"}),e.jsx("p",{children:t}),e.jsx("p",{children:r}),e.jsx("p",{children:n||"Stockholm"}),e.jsx("p",{children:M(a)})]}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Till"}),e.jsx("p",{children:s}),e.jsx("p",{children:l}),e.jsx("p",{children:i||"Helsinki"}),e.jsx("p",{children:M(o)})]})]})]})]});var Le="Radio",[ze,Ee]=t(Le),[Ie,Ae]=ze(Le),Me=u.forwardRef(((t,s)=>{const{__scopeRadio:i,name:l,checked:o=!1,required:d,disabled:c,value:m="on",onCheck:p,form:h,...x}=t,[g,f]=u.useState(null),v=n(s,(e=>f(e))),y=u.useRef(!1),b=!g||(h||!!g.closest("form"));return e.jsxs(Ie,{scope:i,checked:o,disabled:c,children:[e.jsx(r.button,{type:"button",role:"radio","aria-checked":o,"data-state":$e(o),"data-disabled":c?"":void 0,disabled:c,value:m,...x,ref:v,onClick:a(t.onClick,(e=>{o||null==p||p(),b&&(y.current=e.isPropagationStopped(),y.current||e.stopPropagation())}))}),b&&e.jsx(_e,{control:g,bubbles:!y.current,name:l,value:m,checked:o,required:d,disabled:c,form:h,style:{transform:"translateX(-100%)"}})]})}));Me.displayName=Le;var Re="RadioIndicator",Fe=u.forwardRef(((t,n)=>{const{__scopeRadio:a,forceMount:i,...l}=t,o=Ae(Re,a);return e.jsx(s,{present:i||o.checked,children:e.jsx(r.span,{"data-state":$e(o.checked),"data-disabled":o.disabled?"":void 0,...l,ref:n})})}));Fe.displayName=Re;var _e=t=>{const{control:n,checked:r,bubbles:a=!0,...s}=t,i=u.useRef(null),l=ie(r),o=R(n);return u.useEffect((()=>{const e=i.current,t=window.HTMLInputElement.prototype,n=Object.getOwnPropertyDescriptor(t,"checked").set;if(l!==r&&n){const t=new Event("click",{bubbles:a});n.call(e,r),e.dispatchEvent(t)}}),[l,r,a]),e.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:r,...s,tabIndex:-1,ref:i,style:{...t.style,...o,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function $e(e){return e?"checked":"unchecked"}var Be=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Oe="RadioGroup",[Te,He]=t(Oe,[i,Ee]),Ve=i(),qe=Ee(),[Ge,Xe]=Te(Oe),We=u.forwardRef(((t,n)=>{const{__scopeRadioGroup:a,name:s,defaultValue:i,value:c,required:u=!1,disabled:m=!1,orientation:p,dir:h,loop:x=!0,onValueChange:g,...f}=t,v=Ve(a),y=l(h),[b,j]=o({prop:c,defaultProp:i,onChange:g});return e.jsx(Ge,{scope:a,name:s,required:u,disabled:m,value:b,onValueChange:j,children:e.jsx(d,{asChild:!0,...v,orientation:p,dir:y,loop:x,children:e.jsx(r.div,{role:"radiogroup","aria-required":u,"aria-orientation":p,"data-disabled":m?"":void 0,dir:y,...f,ref:n})})})}));We.displayName=Oe;var Je="RadioGroupItem",Ye=u.forwardRef(((t,r)=>{const{__scopeRadioGroup:s,disabled:i,...l}=t,o=Xe(Je,s),d=o.disabled||i,m=Ve(s),p=qe(s),h=u.useRef(null),x=n(r,h),g=o.value===l.value,f=u.useRef(!1);return u.useEffect((()=>{const e=e=>{Be.includes(e.key)&&(f.current=!0)},t=()=>f.current=!1;return document.addEventListener("keydown",e),document.addEventListener("keyup",t),()=>{document.removeEventListener("keydown",e),document.removeEventListener("keyup",t)}}),[]),e.jsx(c,{asChild:!0,...m,focusable:!d,active:g,children:e.jsx(Me,{disabled:d,required:o.required,checked:g,...p,...l,name:o.name,ref:x,onCheck:()=>o.onValueChange(l.value),onKeyDown:a((e=>{"Enter"===e.key&&e.preventDefault()})),onFocus:a(l.onFocus,(()=>{var e;f.current&&(null==(e=h.current)||e.click())}))})})}));Ye.displayName=Je;var Ue=u.forwardRef(((t,n)=>{const{__scopeRadioGroup:r,...a}=t,s=qe(r);return e.jsx(Fe,{...s,...a,ref:n})}));Ue.displayName="RadioGroupIndicator";var Ke=We,Ze=Ye,Qe=Ue;const et=u.forwardRef((({className:t,...n},r)=>e.jsx(Ke,{className:w("grid gap-2",t),...n,ref:r})));et.displayName=Ke.displayName;const tt=u.forwardRef((({className:t,...n},r)=>e.jsx(Ze,{ref:r,className:w("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...n,children:e.jsx(Qe,{className:"flex items-center justify-center",children:e.jsx(F,{className:"h-2.5 w-2.5 fill-current text-current"})})})));tt.displayName=Ze.displayName;var nt="Checkbox",[rt,at]=t(nt),[st,it]=rt(nt),lt=u.forwardRef(((t,s)=>{const{__scopeCheckbox:i,name:l,checked:d,defaultChecked:c,required:m,disabled:p,value:h="on",onCheckedChange:x,form:g,...f}=t,[v,y]=u.useState(null),b=n(s,(e=>y(e))),j=u.useRef(!1),N=!v||(g||!!v.closest("form")),[k=!1,w]=o({prop:d,defaultProp:c,onChange:x}),S=u.useRef(k);return u.useEffect((()=>{const e=null==v?void 0:v.form;if(e){const t=()=>w(S.current);return e.addEventListener("reset",t),()=>e.removeEventListener("reset",t)}}),[v,w]),e.jsxs(st,{scope:i,state:k,disabled:p,children:[e.jsx(r.button,{type:"button",role:"checkbox","aria-checked":ut(k)?"mixed":k,"aria-required":m,"data-state":mt(k),"data-disabled":p?"":void 0,disabled:p,value:h,...f,ref:b,onKeyDown:a(t.onKeyDown,(e=>{"Enter"===e.key&&e.preventDefault()})),onClick:a(t.onClick,(e=>{w((e=>!!ut(e)||!e)),N&&(j.current=e.isPropagationStopped(),j.current||e.stopPropagation())}))}),N&&e.jsx(ct,{control:v,bubbles:!j.current,name:l,value:h,checked:k,required:m,disabled:p,form:g,style:{transform:"translateX(-100%)"},defaultChecked:!ut(c)&&c})]})}));lt.displayName=nt;var ot="CheckboxIndicator",dt=u.forwardRef(((t,n)=>{const{__scopeCheckbox:a,forceMount:i,...l}=t,o=it(ot,a);return e.jsx(s,{present:i||ut(o.state)||!0===o.state,children:e.jsx(r.span,{"data-state":mt(o.state),"data-disabled":o.disabled?"":void 0,...l,ref:n,style:{pointerEvents:"none",...t.style}})})}));dt.displayName=ot;var ct=t=>{const{control:n,checked:r,bubbles:a=!0,defaultChecked:s,...i}=t,l=u.useRef(null),o=ie(r),d=R(n);u.useEffect((()=>{const e=l.current,t=window.HTMLInputElement.prototype,n=Object.getOwnPropertyDescriptor(t,"checked").set;if(o!==r&&n){const t=new Event("click",{bubbles:a});e.indeterminate=ut(r),n.call(e,!ut(r)&&r),e.dispatchEvent(t)}}),[o,r,a]);const c=u.useRef(!ut(r)&&r);return e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s??c.current,...i,tabIndex:-1,ref:l,style:{...t.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ut(e){return"indeterminate"===e}function mt(e){return ut(e)?"indeterminate":e?"checked":"unchecked"}var pt=lt,ht=dt;const xt=u.forwardRef((({className:t,...n},r)=>e.jsx(pt,{ref:r,className:w("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...n,children:e.jsx(ht,{className:w("flex items-center justify-center text-current"),children:e.jsx(_,{className:"h-4 w-4"})})})));xt.displayName=pt.displayName;const gt=({totalPrice:t,onPaymentComplete:n,onCancel:r})=>{const[a,s]=u.useState("swish"),[i,l]=u.useState(""),[o,d]=u.useState(""),[c,m]=u.useState(""),[p,h]=u.useState(""),[x,y]=u.useState(""),[b,j]=u.useState(""),[N,w]=u.useState(!1),[S,C]=u.useState(!1);return e.jsxs(v,{className:"border rounded-lg mb-8",children:[e.jsxs("div",{className:"bg-slate-700 text-white p-3 font-semibold",children:["Betalning - ",t.toFixed(2),"â‚¬"]}),e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Payment methods"}),e.jsx("div",{className:"space-y-2",children:e.jsxs(et,{defaultValue:"swish",value:a,onValueChange:e=>s(e),className:"gap-3",children:[e.jsxs("div",{className:"flex items-center space-x-2 border p-4 rounded-md "+("swish"===a?"border-primary":"border-gray-200"),children:[e.jsx(tt,{value:"swish",id:"swish"}),e.jsxs(f,{htmlFor:"swish",className:"flex items-center gap-2 cursor-pointer flex-1",children:[e.jsx(pe,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{children:"Swish"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 border p-4 rounded-md "+("ebanking"===a?"border-primary":"border-gray-200"),children:[e.jsx(tt,{value:"ebanking",id:"ebanking"}),e.jsxs(f,{htmlFor:"ebanking",className:"flex items-center gap-2 cursor-pointer flex-1",children:[e.jsx(oe,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{children:"eBanking"})]})]}),e.jsxs("div",{className:"flex items-center space-x-2 border p-4 rounded-md "+("card"===a?"border-primary":"border-gray-200"),children:[e.jsx(tt,{value:"card",id:"card"}),e.jsxs(f,{htmlFor:"card",className:"flex items-center gap-2 cursor-pointer flex-1",children:[e.jsx(de,{className:"h-5 w-5 text-blue-600"}),e.jsx("span",{children:"Card payment"})]})]})]})})]}),e.jsxs("form",{onSubmit:async e=>{if(e.preventDefault(),!S)return void g.error("You must accept the terms and conditions to continue");if("card"===a){if(!(i&&o&&c&&p))return void g.error("Please fill in all card details");if(16!==i.replace(/\s/g,"").length||!/^\d+$/.test(i.replace(/\s/g,"")))return void g.error("Please enter a valid card number");if(!/^\d{2}\/\d{2}$/.test(o))return void g.error("Please enter a valid expiry date (MM/YY)");if(!/^\d{3,4}$/.test(c))return void g.error("Please enter a valid CVV code")}else if("swish"===a){if(!x)return void g.error("Please enter your Swish number");if(!/^\d{10}$/.test(x.replace(/\s/g,"")))return void g.error("Please enter a valid Swish number (10 digits)")}else if("ebanking"===a&&!b)return void g.error("Please select your bank");w(!0);const t={paymentMethod:a,termsAccepted:S};"card"===a?(t.cardNumber=i,t.expiryDate=o,t.cvv=c,t.cardholderName=p):"swish"===a?t.swishNumber=x:"ebanking"===a&&(t.bankName=b),setTimeout((()=>{w(!1),g.success("Payment processed successfully!"),n(t)}),2e3)},className:"space-y-4",children:["swish"===a&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"swishNumber",children:"Swish Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(pe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 h-4 w-4"}),e.jsx(A,{id:"swishNumber",type:"tel",value:x,onChange:e=>y(e.target.value.replace(/\D/g,"")),placeholder:"07X XXX XX XX",className:"pl-10",maxLength:10})]})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-md flex items-start gap-3 text-sm text-blue-700",children:[e.jsx(le,{className:"h-5 w-5 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Swish Information"}),e.jsx("p",{children:"You will receive a Swish payment request to your mobile phone. Accept the payment in your Swish app to complete the transaction."})]})]})]}),"ebanking"===a&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"bankSelection",children:"Select Your Bank"}),e.jsx(et,{value:b,onValueChange:j,className:"grid grid-cols-2 gap-3",children:["Nordea","SEB","Handelsbanken","Swedbank","Danske Bank","LÃ¤nsfÃ¶rsÃ¤kringar"].map((t=>e.jsxs("div",{className:"flex items-center space-x-2 border p-3 rounded-md "+(b===t?"border-primary":"border-gray-200"),children:[e.jsx(tt,{value:t,id:`bank-${t}`}),e.jsx(f,{htmlFor:`bank-${t}`,className:"cursor-pointer",children:t})]},t)))})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-md flex items-start gap-3 text-sm text-blue-700",children:[e.jsx(ce,{className:"h-5 w-5 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Bank Information"}),e.jsx("p",{children:"You will be redirected to your bank's website to complete the payment."})]})]})]}),"card"===a&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"cardNumber",children:"Card Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(de,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 h-4 w-4"}),e.jsx(A,{id:"cardNumber",value:i,onChange:e=>l((e=>{const t=e.replace(/\s+/g,"").replace(/[^0-9]/gi,"").match(/\d{4,16}/g),n=t&&t[0]||"",r=[];for(let a=0,s=n.length;a<s;a+=4)r.push(n.substring(a,a+4));return r.length?r.join(" "):e})(e.target.value)),placeholder:"4111 1111 1111 1111",className:"pl-10",maxLength:19})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"expiryDate",children:"Expiry Date"}),e.jsxs("div",{className:"relative",children:[e.jsx(K,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 h-4 w-4"}),e.jsx(A,{id:"expiryDate",value:o,onChange:e=>d((e=>{const t=e.replace(/\s+/g,"").replace(/[^0-9]/gi,"");return t.length>=2?`${t.substring(0,2)}/${t.substring(2,4)}`:t})(e.target.value)),placeholder:"MM/YY",className:"pl-10",maxLength:5})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"cvv",children:"CVV"}),e.jsxs("div",{className:"relative",children:[e.jsx(me,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-500 h-4 w-4"}),e.jsx(A,{id:"cvv",value:c,onChange:e=>m(e.target.value.replace(/\D/g,"")),placeholder:"123",className:"pl-10",maxLength:4})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"cardholderName",children:"Cardholder Name"}),e.jsx(A,{id:"cardholderName",value:p,onChange:e=>h(e.target.value),placeholder:"John Doe"})]}),e.jsxs("div",{className:"bg-blue-50 p-4 rounded-md flex items-start gap-3 text-sm text-blue-700",children:[e.jsx(me,{className:"h-5 w-5 mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:"Secure Payment"}),e.jsx("p",{children:"All payment information is encrypted and secure."})]})]})]}),e.jsxs("div",{className:"mt-6 flex items-start gap-2",children:[e.jsx(xt,{id:"terms",checked:S,onCheckedChange:e=>C(e)}),e.jsx("div",{className:"grid gap-1.5 leading-none",children:e.jsxs(f,{htmlFor:"terms",className:"text-sm text-muted-foreground",children:["I accept the "," ",e.jsx("a",{href:"#",className:"text-blue-600 hover:underline",children:"terms and conditions"})," and I have read the "," ",e.jsx("a",{href:"#",className:"text-blue-600 hover:underline",children:"privacy statement"})]})})]}),e.jsx("div",{className:"mt-4 space-y-2 text-sm text-gray-600",children:e.jsxs("ul",{className:"list-disc ml-5 space-y-1",children:[e.jsx("li",{children:"Domestic parcel services"}),e.jsx("li",{children:"Letter services and international parcels"}),e.jsx("li",{children:"General delivery conditions"})]})}),e.jsxs("div",{className:"flex justify-between gap-4 mt-6",children:[e.jsx(k,{type:"button",variant:"outline",onClick:r,children:"Previous"}),e.jsx(k,{type:"submit",disabled:N,className:"bg-green-600 hover:bg-green-700 text-white min-w-[7rem]",children:N?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("svg",{className:"animate-spin h-4 w-4 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[e.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),e.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Processing..."]}):`Pay (${t.toFixed(2)}â‚¬)`})]})]})]})]})},{createElement:ft,createContext:vt,createRef:yt,forwardRef:bt,useCallback:jt,useContext:Nt,useEffect:kt,useImperativeHandle:wt,useLayoutEffect:St,useMemo:Ct,useRef:Pt,useState:Dt}=p,Lt=p[`useId${Math.random()}`.slice(0,5)],zt=St,Et=vt(null);Et.displayName="PanelGroupContext";const It=zt,At="function"==typeof Lt?Lt:()=>null;let Mt=0;function Rt(e=null){const t=At(),n=Pt(e||t||null);return null===n.current&&(n.current=""+Mt++),null!=e?e:n.current}function Ft({children:e,className:t="",collapsedSize:n,collapsible:r,defaultSize:a,forwardedRef:s,id:i,maxSize:l,minSize:o,onCollapse:d,onExpand:c,onResize:u,order:m,style:p,tagName:h="div",...x}){const g=Nt(Et);if(null===g)throw Error("Panel components must be rendered within a PanelGroup container");const{collapsePanel:f,expandPanel:v,getPanelSize:y,getPanelStyle:b,groupId:j,isPanelCollapsed:N,reevaluatePanelConstraints:k,registerPanel:w,resizePanel:S,unregisterPanel:C}=g,P=Rt(i),D=Pt({callbacks:{onCollapse:d,onExpand:c,onResize:u},constraints:{collapsedSize:n,collapsible:r,defaultSize:a,maxSize:l,minSize:o},id:P,idIsFromProps:void 0!==i,order:m});Pt({didLogMissingDefaultSizeWarning:!1}),It((()=>{const{callbacks:e,constraints:t}=D.current,s={...t};D.current.id=P,D.current.idIsFromProps=void 0!==i,D.current.order=m,e.onCollapse=d,e.onExpand=c,e.onResize=u,t.collapsedSize=n,t.collapsible=r,t.defaultSize=a,t.maxSize=l,t.minSize=o,s.collapsedSize===t.collapsedSize&&s.collapsible===t.collapsible&&s.maxSize===t.maxSize&&s.minSize===t.minSize||k(D.current,s)})),It((()=>{const e=D.current;return w(e),()=>{C(e)}}),[m,P,w,C]),wt(s,(()=>({collapse:()=>{f(D.current)},expand:e=>{v(D.current,e)},getId:()=>P,getSize:()=>y(D.current),isCollapsed:()=>N(D.current),isExpanded:()=>!N(D.current),resize:e=>{S(D.current,e)}})),[f,v,y,N,P,S]);const L=b(D.current,a);return ft(h,{...x,children:e,className:t,id:i,style:{...L,...p},"data-panel":"","data-panel-collapsible":r||void 0,"data-panel-group-id":j,"data-panel-id":P,"data-panel-size":parseFloat(""+L.flexGrow).toFixed(1)})}const _t=bt(((e,t)=>ft(Ft,{...e,forwardedRef:t})));Ft.displayName="Panel",_t.displayName="forwardRef(Panel)";let $t=null,Bt=null;function Ot(e,t){const n=function(e,t){if(t){const e=!!(t&Qt),n=!!(t&en);if(t&Kt)return e?"se-resize":n?"ne-resize":"e-resize";if(t&Zt)return e?"sw-resize":n?"nw-resize":"w-resize";if(e)return"s-resize";if(n)return"n-resize"}switch(e){case"horizontal":return"ew-resize";case"intersection":return"move";case"vertical":return"ns-resize"}}(e,t);$t!==n&&($t=n,null===Bt&&(Bt=document.createElement("style"),document.head.appendChild(Bt)),Bt.innerHTML=`*{cursor: ${n}!important;}`)}function Tt(e){return"keydown"===e.type}function Ht(e){return e.type.startsWith("pointer")}function Vt(e){return e.type.startsWith("mouse")}function qt(e){if(Ht(e)){if(e.isPrimary)return{x:e.clientX,y:e.clientY}}else if(Vt(e))return{x:e.clientX,y:e.clientY};return{x:1/0,y:1/0}}const Gt=/\b(?:position|zIndex|opacity|transform|webkitTransform|mixBlendMode|filter|webkitFilter|isolation)\b/;function Xt(e){const t=getComputedStyle(e);return"fixed"===t.position||(!("auto"===t.zIndex||"static"===t.position&&!function(e){var t;const n=getComputedStyle(null!==(t=Ut(e))&&void 0!==t?t:e).display;return"flex"===n||"inline-flex"===n}(e))||(+t.opacity<1||("transform"in t&&"none"!==t.transform||("webkitTransform"in t&&"none"!==t.webkitTransform||("mixBlendMode"in t&&"normal"!==t.mixBlendMode||("filter"in t&&"none"!==t.filter||("webkitFilter"in t&&"none"!==t.webkitFilter||("isolation"in t&&"isolate"===t.isolation||(!!Gt.test(t.willChange)||"touch"===t.webkitOverflowScrolling)))))))))}function Wt(e){let t=e.length;for(;t--;){const n=e[t];if(gn(n,"Missing node"),Xt(n))return n}return null}function Jt(e){return e&&Number(getComputedStyle(e).zIndex)||0}function Yt(e){const t=[];for(;e;)t.push(e),e=Ut(e);return t}function Ut(e){const{parentNode:t}=e;return t&&t instanceof ShadowRoot?t.host:t}const Kt=1,Zt=2,Qt=4,en=8,tn="coarse"===function(){if("function"==typeof matchMedia)return matchMedia("(pointer:coarse)").matches?"coarse":"fine"}();let nn=[],rn=!1,an=new Map,sn=new Map;const ln=new Set;function on(e){const{target:t}=e,{x:n,y:r}=qt(e);rn=!0,un({target:t,x:n,y:r}),hn(),nn.length>0&&(xn("down",e),e.preventDefault(),e.stopPropagation())}function dn(e){const{x:t,y:n}=qt(e);if(rn&&0===e.buttons&&(rn=!1,xn("up",e)),!rn){const{target:r}=e;un({target:r,x:t,y:n})}xn("move",e),pn(),nn.length>0&&e.preventDefault()}function cn(e){const{target:t}=e,{x:n,y:r}=qt(e);sn.clear(),rn=!1,nn.length>0&&e.preventDefault(),xn("up",e),un({target:t,x:n,y:r}),pn(),hn()}function un({target:e,x:t,y:n}){nn.splice(0);let r=null;e instanceof HTMLElement&&(r=e),ln.forEach((e=>{const{element:a,hitAreaMargins:s}=e,i=a.getBoundingClientRect(),{bottom:l,left:o,right:d,top:c}=i,u=tn?s.coarse:s.fine;if(t>=o-u&&t<=d+u&&n>=c-u&&n<=l+u){if(null!==r&&document.contains(r)&&a!==r&&!a.contains(r)&&!r.contains(a)&&function(e,t){if(e===t)throw new Error("Cannot compare node with itself");const n={a:Yt(e),b:Yt(t)};let r;for(;n.a.at(-1)===n.b.at(-1);)e=n.a.pop(),t=n.b.pop(),r=e;gn(r,"Stacking order can only be calculated for elements with a common ancestor");const a=Jt(Wt(n.a)),s=Jt(Wt(n.b));if(a===s){const e=r.childNodes,t={a:n.a.at(-1),b:n.b.at(-1)};let a=e.length;for(;a--;){const n=e[a];if(n===t.a)return 1;if(n===t.b)return-1}}return Math.sign(a-s)}(r,a)>0){let e=r,t=!1;for(;e&&!e.contains(a);){if(m=e.getBoundingClientRect(),p=i,m.x<p.x+p.width&&m.x+m.width>p.x&&m.y<p.y+p.height&&m.y+m.height>p.y){t=!0;break}e=e.parentElement}if(t)return}nn.push(e)}var m,p}))}function mn(e,t){sn.set(e,t)}function pn(){let e=!1,t=!1;nn.forEach((n=>{const{direction:r}=n;"horizontal"===r?e=!0:t=!0}));let n=0;sn.forEach((e=>{n|=e})),e&&t?Ot("intersection",n):e?Ot("horizontal",n):t?Ot("vertical",n):null!==Bt&&(document.head.removeChild(Bt),$t=null,Bt=null)}function hn(){an.forEach(((e,t)=>{const{body:n}=t;n.removeEventListener("contextmenu",cn),n.removeEventListener("pointerdown",on),n.removeEventListener("pointerleave",dn),n.removeEventListener("pointermove",dn)})),window.removeEventListener("pointerup",cn),window.removeEventListener("pointercancel",cn),ln.size>0&&(rn?(nn.length>0&&an.forEach(((e,t)=>{const{body:n}=t;e>0&&(n.addEventListener("contextmenu",cn),n.addEventListener("pointerleave",dn),n.addEventListener("pointermove",dn))})),window.addEventListener("pointerup",cn),window.addEventListener("pointercancel",cn)):an.forEach(((e,t)=>{const{body:n}=t;e>0&&(n.addEventListener("pointerdown",on,{capture:!0}),n.addEventListener("pointermove",dn))})))}function xn(e,t){ln.forEach((n=>{const{setResizeHandlerState:r}=n,a=nn.includes(n);r(e,a,t)}))}function gn(e,t){if(!e)throw Error(t)}function fn(e,t,n=10){return e.toFixed(n)===t.toFixed(n)?0:e>t?1:-1}function vn(e,t,n=10){return 0===fn(e,t,n)}function yn(e,t,n){return 0===fn(e,t,n)}function bn({panelConstraints:e,panelIndex:t,size:n}){const r=e[t];gn(null!=r,`Panel constraints not found for index ${t}`);let{collapsedSize:a=0,collapsible:s,maxSize:i=100,minSize:l=0}=r;if(fn(n,l)<0)if(s){n=fn(n,(a+l)/2)<0?a:l}else n=l;return n=Math.min(i,n),n=parseFloat(n.toFixed(10))}function jn({delta:e,initialLayout:t,panelConstraints:n,pivotIndices:r,prevLayout:a,trigger:s}){if(yn(e,0))return t;const i=[...t],[l,o]=r;gn(null!=l,"Invalid first pivot index"),gn(null!=o,"Invalid second pivot index");let d=0;if("keyboard"===s){{const r=e<0?o:l,a=n[r];gn(a,`Panel constraints not found for index ${r}`);const{collapsedSize:s=0,collapsible:i,minSize:d=0}=a;if(i){const n=t[r];if(gn(null!=n,`Previous layout not found for panel index ${r}`),yn(n,s)){const t=d-n;fn(t,Math.abs(e))>0&&(e=e<0?0-t:t)}}}{const r=e<0?l:o,a=n[r];gn(a,`No panel constraints found for index ${r}`);const{collapsedSize:s=0,collapsible:i,minSize:d=0}=a;if(i){const n=t[r];if(gn(null!=n,`Previous layout not found for panel index ${r}`),yn(n,d)){const t=n-s;fn(t,Math.abs(e))>0&&(e=e<0?0-t:t)}}}}{const r=e<0?1:-1;let a=e<0?o:l,s=0;for(;;){const e=t[a];gn(null!=e,`Previous layout not found for panel index ${a}`);if(s+=bn({panelConstraints:n,panelIndex:a,size:100})-e,a+=r,a<0||a>=n.length)break}const i=Math.min(Math.abs(e),Math.abs(s));e=e<0?0-i:i}{let r=e<0?l:o;for(;r>=0&&r<n.length;){const a=Math.abs(e)-Math.abs(d),s=t[r];gn(null!=s,`Previous layout not found for panel index ${r}`);const l=bn({panelConstraints:n,panelIndex:r,size:s-a});if(!yn(s,l)&&(d+=s-l,i[r]=l,d.toPrecision(3).localeCompare(Math.abs(e).toPrecision(3),void 0,{numeric:!0})>=0))break;e<0?r--:r++}}if(function(e,t,n){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!yn(e[r],t[r],n))return!1;return!0}(a,i))return a;{const r=e<0?o:l,a=t[r];gn(null!=a,`Previous layout not found for panel index ${r}`);const s=a+d,c=bn({panelConstraints:n,panelIndex:r,size:s});if(i[r]=c,!yn(c,s)){let t=s-c;let r=e<0?o:l;for(;r>=0&&r<n.length;){const a=i[r];gn(null!=a,`Previous layout not found for panel index ${r}`);const s=bn({panelConstraints:n,panelIndex:r,size:a+t});if(yn(a,s)||(t-=s-a,i[r]=s),yn(t,0))break;e>0?r--:r++}}}return yn(i.reduce(((e,t)=>t+e),0),100)?i:a}function Nn({layout:e,panelsArray:t,pivotIndices:n}){let r=0,a=100,s=0,i=0;const l=n[0];gn(null!=l,"No pivot index found"),t.forEach(((e,t)=>{const{constraints:n}=e,{maxSize:o=100,minSize:d=0}=n;t===l?(r=d,a=o):(s+=d,i+=o)}));return{valueMax:Math.min(a,100-s),valueMin:Math.max(r,100-i),valueNow:e[l]}}function kn(e,t=document){return Array.from(t.querySelectorAll(`[data-panel-resize-handle-id][data-panel-group-id="${e}"]`))}function wn(e,t,n=document){const r=kn(e,n).findIndex((e=>e.getAttribute("data-panel-resize-handle-id")===t));return null!=r?r:null}function Sn(e,t,n){const r=wn(e,t,n);return null!=r?[r,r+1]:[-1,-1]}function Cn(e,t=document){var n;if(t instanceof HTMLElement&&(null==t||null===(n=t.dataset)||void 0===n?void 0:n.panelGroupId)==e)return t;const r=t.querySelector(`[data-panel-group][data-panel-group-id="${e}"]`);return r||null}function Pn(e,t=document){const n=t.querySelector(`[data-panel-resize-handle-id="${e}"]`);return n||null}function Dn({committedValuesRef:e,eagerValuesRef:t,groupId:n,layout:r,panelDataArray:a,panelGroupElement:s,setLayout:i}){Pt({didWarnAboutMissingResizeHandle:!1}),It((()=>{if(!s)return;const e=kn(n,s);for(let t=0;t<a.length-1;t++){const{valueMax:n,valueMin:s,valueNow:i}=Nn({layout:r,panelsArray:a,pivotIndices:[t,t+1]}),l=e[t];if(null==l);else{const e=a[t];gn(e,`No panel data found for index "${t}"`),l.setAttribute("aria-controls",e.id),l.setAttribute("aria-valuemax",""+Math.round(n)),l.setAttribute("aria-valuemin",""+Math.round(s)),l.setAttribute("aria-valuenow",null!=i?""+Math.round(i):"")}}return()=>{e.forEach(((e,t)=>{e.removeAttribute("aria-controls"),e.removeAttribute("aria-valuemax"),e.removeAttribute("aria-valuemin"),e.removeAttribute("aria-valuenow")}))}}),[n,r,a,s]),kt((()=>{if(!s)return;const e=t.current;gn(e,"Eager values not found");const{panelDataArray:a}=e;gn(null!=Cn(n,s),`No group found for id "${n}"`);const l=kn(n,s);gn(l,`No resize handles found for group id "${n}"`);const o=l.map((e=>{const t=e.getAttribute("data-panel-resize-handle-id");gn(t,"Resize handle element has no handle id attribute");const[l,o]=function(e,t,n,r=document){var a,s,i,l;const o=Pn(t,r),d=kn(e,r),c=o?d.indexOf(o):-1;return[null!==(a=null===(s=n[c])||void 0===s?void 0:s.id)&&void 0!==a?a:null,null!==(i=null===(l=n[c+1])||void 0===l?void 0:l.id)&&void 0!==i?i:null]}(n,t,a,s);if(null==l||null==o)return()=>{};const d=e=>{if(!e.defaultPrevented)switch(e.key){case"Enter":{e.preventDefault();const o=a.findIndex((e=>e.id===l));if(o>=0){const e=a[o];gn(e,`No panel data found for index ${o}`);const l=r[o],{collapsedSize:d=0,collapsible:c,minSize:u=0}=e.constraints;if(null!=l&&c){const e=jn({delta:yn(l,d)?u-d:d-l,initialLayout:r,panelConstraints:a.map((e=>e.constraints)),pivotIndices:Sn(n,t,s),prevLayout:r,trigger:"keyboard"});r!==e&&i(e)}}break}}};return e.addEventListener("keydown",d),()=>{e.removeEventListener("keydown",d)}}));return()=>{o.forEach((e=>e()))}}),[s,e,t,n,r,a,i])}function Ln(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}function zn(e,t){const n="horizontal"===e,{x:r,y:a}=qt(t);return n?r:a}function En(e,t,n,r,a,s){if(Tt(e)){const t="horizontal"===n;let r=0;r=e.shiftKey?100:null!=a?a:10;let s=0;switch(e.key){case"ArrowDown":s=t?0:r;break;case"ArrowLeft":s=t?-r:0;break;case"ArrowRight":s=t?r:0;break;case"ArrowUp":s=t?0:-r;break;case"End":s=100;break;case"Home":s=-100}return s}return null==r?0:function(e,t,n,r,a){const s="horizontal"===n,i=Pn(t,a);gn(i,`No resize handle element found for id "${t}"`);const l=i.getAttribute("data-panel-group-id");gn(l,"Resize handle element has no group id attribute");let{initialCursorPosition:o}=r;const d=zn(n,e),c=Cn(l,a);gn(c,`No group element found for id "${l}"`);const u=c.getBoundingClientRect();return(d-o)/(s?u.width:u.height)*100}(e,t,n,r,s)}function In(e,t,n){t.forEach(((t,r)=>{const a=e[r];gn(a,`Panel data not found for index ${r}`);const{callbacks:s,constraints:i,id:l}=a,{collapsedSize:o=0,collapsible:d}=i,c=n[l];if(null==c||t!==c){n[l]=t;const{onCollapse:e,onExpand:r,onResize:a}=s;a&&a(t,c),d&&(e||r)&&(!r||null!=c&&!vn(c,o)||vn(t,o)||r(),!e||null!=c&&vn(c,o)||!vn(t,o)||e())}}))}function An(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(e[n]!=t[n])return!1;return!0}function Mn(e){try{if("undefined"==typeof localStorage)throw new Error("localStorage not supported in this environment");e.getItem=e=>localStorage.getItem(e),e.setItem=(e,t)=>{localStorage.setItem(e,t)}}catch(t){e.getItem=()=>null,e.setItem=()=>{}}}function Rn(e){return`react-resizable-panels:${e}`}function Fn(e){return e.map((e=>{const{constraints:t,id:n,idIsFromProps:r,order:a}=e;return r?n:a?`${a}:${JSON.stringify(t)}`:JSON.stringify(t)})).sort(((e,t)=>e.localeCompare(t))).join(",")}function _n(e,t){try{const n=Rn(e),r=t.getItem(n);if(r){const e=JSON.parse(r);if("object"==typeof e&&null!=e)return e}}catch(n){}return null}function $n(e,t,n,r,a){var s;const i=Rn(e),l=Fn(t),o=null!==(s=_n(e,a))&&void 0!==s?s:{};o[l]={expandToSizes:Object.fromEntries(n.entries()),layout:r};try{a.setItem(i,JSON.stringify(o))}catch(d){}}function Bn({layout:e,panelConstraints:t}){const n=[...e],r=n.reduce(((e,t)=>e+t),0);if(n.length!==t.length)throw Error(`Invalid ${t.length} panel layout: ${n.map((e=>`${e}%`)).join(", ")}`);if(!yn(r,100)&&n.length>0)for(let s=0;s<t.length;s++){const e=n[s];gn(null!=e,`No layout data found for index ${s}`);const t=100/r*e;n[s]=t}let a=0;for(let s=0;s<t.length;s++){const e=n[s];gn(null!=e,`No layout data found for index ${s}`);const r=bn({panelConstraints:t,panelIndex:s,size:e});e!=r&&(a+=e-r,n[s]=r)}if(!yn(a,0))for(let s=0;s<t.length;s++){const e=n[s];gn(null!=e,`No layout data found for index ${s}`);const r=bn({panelConstraints:t,panelIndex:s,size:e+a});if(e!==r&&(a-=r-e,n[s]=r,yn(a,0)))break}return n}const On={getItem:e=>(Mn(On),On.getItem(e)),setItem:(e,t)=>{Mn(On),On.setItem(e,t)}},Tn={};function Hn({autoSaveId:e=null,children:t,className:n="",direction:r,forwardedRef:a,id:s=null,onLayout:i=null,keyboardResizeBy:l=null,storage:o=On,style:d,tagName:c="div",...u}){const m=Rt(s),p=Pt(null),[h,x]=Dt(null),[g,f]=Dt([]),v=function(){const[e,t]=Dt(0);return jt((()=>t((e=>e+1))),[])}(),y=Pt({}),b=Pt(new Map),j=Pt(0),N=Pt({autoSaveId:e,direction:r,dragState:h,id:m,keyboardResizeBy:l,onLayout:i,storage:o}),k=Pt({layout:g,panelDataArray:[],panelDataArrayChanged:!1});Pt({didLogIdAndOrderWarning:!1,didLogPanelConstraintsWarning:!1,prevPanelIds:[]}),wt(a,(()=>({getId:()=>N.current.id,getLayout:()=>{const{layout:e}=k.current;return e},setLayout:e=>{const{onLayout:t}=N.current,{layout:n,panelDataArray:r}=k.current,a=Bn({layout:e,panelConstraints:r.map((e=>e.constraints))});Ln(n,a)||(f(a),k.current.layout=a,t&&t(a),In(r,a,y.current))}})),[]),It((()=>{N.current.autoSaveId=e,N.current.direction=r,N.current.dragState=h,N.current.id=m,N.current.onLayout=i,N.current.storage=o})),Dn({committedValuesRef:N,eagerValuesRef:k,groupId:m,layout:g,panelDataArray:k.current.panelDataArray,setLayout:f,panelGroupElement:p.current}),kt((()=>{const{panelDataArray:t}=k.current;if(e){if(0===g.length||g.length!==t.length)return;let n=Tn[e];null==n&&(n=function(e,t=10){let n=null;return(...r)=>{null!==n&&clearTimeout(n),n=setTimeout((()=>{e(...r)}),t)}}($n,100),Tn[e]=n);const r=[...t],a=new Map(b.current);n(e,r,a,g,o)}}),[e,g,o]),kt((()=>{}));const w=jt((e=>{const{onLayout:t}=N.current,{layout:n,panelDataArray:r}=k.current;if(e.constraints.collapsible){const a=r.map((e=>e.constraints)),{collapsedSize:s=0,panelSize:i,pivotIndices:l}=Gn(r,e,n);if(gn(null!=i,`Panel size not found for panel "${e.id}"`),!vn(i,s)){b.current.set(e.id,i);const o=jn({delta:qn(r,e)===r.length-1?i-s:s-i,initialLayout:n,panelConstraints:a,pivotIndices:l,prevLayout:n,trigger:"imperative-api"});An(n,o)||(f(o),k.current.layout=o,t&&t(o),In(r,o,y.current))}}}),[]),S=jt(((e,t)=>{const{onLayout:n}=N.current,{layout:r,panelDataArray:a}=k.current;if(e.constraints.collapsible){const s=a.map((e=>e.constraints)),{collapsedSize:i=0,panelSize:l=0,minSize:o=0,pivotIndices:d}=Gn(a,e,r),c=null!=t?t:o;if(vn(l,i)){const t=b.current.get(e.id),i=null!=t&&t>=c?t:c,o=jn({delta:qn(a,e)===a.length-1?l-i:i-l,initialLayout:r,panelConstraints:s,pivotIndices:d,prevLayout:r,trigger:"imperative-api"});An(r,o)||(f(o),k.current.layout=o,n&&n(o),In(a,o,y.current))}}}),[]),C=jt((e=>{const{layout:t,panelDataArray:n}=k.current,{panelSize:r}=Gn(n,e,t);return gn(null!=r,`Panel size not found for panel "${e.id}"`),r}),[]),P=jt(((e,t)=>{const{panelDataArray:n}=k.current,r=qn(n,e);return function({defaultSize:e,dragState:t,layout:n,panelData:r,panelIndex:a,precision:s=3}){const i=n[a];let l;return l=null==i?null!=e?e.toPrecision(s):"1":1===r.length?"1":i.toPrecision(s),{flexBasis:0,flexGrow:l,flexShrink:1,overflow:"hidden",pointerEvents:null!==t?"none":void 0}}({defaultSize:t,dragState:h,layout:g,panelData:n,panelIndex:r})}),[h,g]),D=jt((e=>{const{layout:t,panelDataArray:n}=k.current,{collapsedSize:r=0,collapsible:a,panelSize:s}=Gn(n,e,t);return gn(null!=s,`Panel size not found for panel "${e.id}"`),!0===a&&vn(s,r)}),[]),L=jt((e=>{const{layout:t,panelDataArray:n}=k.current,{collapsedSize:r=0,collapsible:a,panelSize:s}=Gn(n,e,t);return gn(null!=s,`Panel size not found for panel "${e.id}"`),!a||fn(s,r)>0}),[]),z=jt((e=>{const{panelDataArray:t}=k.current;t.push(e),t.sort(((e,t)=>{const n=e.order,r=t.order;return null==n&&null==r?0:null==n?-1:null==r?1:n-r})),k.current.panelDataArrayChanged=!0,v()}),[v]);It((()=>{if(k.current.panelDataArrayChanged){k.current.panelDataArrayChanged=!1;const{autoSaveId:e,onLayout:t,storage:n}=N.current,{layout:r,panelDataArray:a}=k.current;let s=null;if(e){const t=function(e,t,n){var r,a;return null!==(a=(null!==(r=_n(e,n))&&void 0!==r?r:{})[Fn(t)])&&void 0!==a?a:null}(e,a,n);t&&(b.current=new Map(Object.entries(t.expandToSizes)),s=t.layout)}null==s&&(s=function({panelDataArray:e}){const t=Array(e.length),n=e.map((e=>e.constraints));let r=0,a=100;for(let s=0;s<e.length;s++){const e=n[s];gn(e,`Panel constraints not found for index ${s}`);const{defaultSize:i}=e;null!=i&&(r++,t[s]=i,a-=i)}for(let s=0;s<e.length;s++){const i=n[s];gn(i,`Panel constraints not found for index ${s}`);const{defaultSize:l}=i;if(null!=l)continue;const o=a/(e.length-r);r++,t[s]=o,a-=o}return t}({panelDataArray:a}));const i=Bn({layout:s,panelConstraints:a.map((e=>e.constraints))});Ln(r,i)||(f(i),k.current.layout=i,t&&t(i),In(a,i,y.current))}})),It((()=>{const e=k.current;return()=>{e.layout=[]}}),[]);const E=jt((e=>function(t){t.preventDefault();const n=p.current;if(!n)return()=>null;const{direction:r,dragState:a,id:s,keyboardResizeBy:i,onLayout:l}=N.current,{layout:o,panelDataArray:d}=k.current,{initialLayout:c}=null!=a?a:{},u=Sn(s,e,n);let m=En(t,e,r,a,i,n);const h="horizontal"===r;"rtl"===document.dir&&h&&(m=-m);const x=jn({delta:m,initialLayout:null!=c?c:o,panelConstraints:d.map((e=>e.constraints)),pivotIndices:u,prevLayout:o,trigger:Tt(t)?"keyboard":"mouse-or-touch"}),g=!An(o,x);(Ht(t)||Vt(t))&&j.current!=m&&(j.current=m,mn(e,g||0===m?0:h?m<0?Kt:Zt:m<0?Qt:en)),g&&(f(x),k.current.layout=x,l&&l(x),In(d,x,y.current))}),[]),I=jt(((e,t)=>{const{onLayout:n}=N.current,{layout:r,panelDataArray:a}=k.current,s=a.map((e=>e.constraints)),{panelSize:i,pivotIndices:l}=Gn(a,e,r);gn(null!=i,`Panel size not found for panel "${e.id}"`);const o=jn({delta:qn(a,e)===a.length-1?i-t:t-i,initialLayout:r,panelConstraints:s,pivotIndices:l,prevLayout:r,trigger:"imperative-api"});An(r,o)||(f(o),k.current.layout=o,n&&n(o),In(a,o,y.current))}),[]),A=jt(((e,t)=>{const{layout:n,panelDataArray:r}=k.current,{collapsedSize:a=0,collapsible:s}=t,{collapsedSize:i=0,collapsible:l,maxSize:o=100,minSize:d=0}=e.constraints,{panelSize:c}=Gn(r,e,n);null!=c&&(s&&l&&vn(c,a)?vn(a,i)||I(e,i):c<d?I(e,d):c>o&&I(e,o))}),[I]),M=jt(((e,t)=>{const{direction:n}=N.current,{layout:r}=k.current;if(!p.current)return;const a=Pn(e,p.current);gn(a,`Drag handle element not found for id "${e}"`);const s=zn(n,t);x({dragHandleId:e,dragHandleRect:a.getBoundingClientRect(),initialCursorPosition:s,initialLayout:r})}),[]),R=jt((()=>{x(null)}),[]),F=jt((e=>{const{panelDataArray:t}=k.current,n=qn(t,e);n>=0&&(t.splice(n,1),delete y.current[e.id],k.current.panelDataArrayChanged=!0,v())}),[v]),_=Ct((()=>({collapsePanel:w,direction:r,dragState:h,expandPanel:S,getPanelSize:C,getPanelStyle:P,groupId:m,isPanelCollapsed:D,isPanelExpanded:L,reevaluatePanelConstraints:A,registerPanel:z,registerResizeHandle:E,resizePanel:I,startDragging:M,stopDragging:R,unregisterPanel:F,panelGroupElement:p.current})),[w,h,r,S,C,P,m,D,L,A,z,E,I,M,R,F]),$={display:"flex",flexDirection:"horizontal"===r?"row":"column",height:"100%",overflow:"hidden",width:"100%"};return ft(Et.Provider,{value:_},ft(c,{...u,children:t,className:n,id:s,ref:p,style:{...$,...d},"data-panel-group":"","data-panel-group-direction":r,"data-panel-group-id":m}))}const Vn=bt(((e,t)=>ft(Hn,{...e,forwardedRef:t})));function qn(e,t){return e.findIndex((e=>e===t||e.id===t.id))}function Gn(e,t,n){const r=qn(e,t),a=r===e.length-1?[r-1,r]:[r,r+1],s=n[r];return{...t.constraints,panelSize:s,pivotIndices:a}}function Xn({children:e=null,className:t="",disabled:n=!1,hitAreaMargins:r,id:a,onBlur:s,onDragging:i,onFocus:l,style:o={},tabIndex:d=0,tagName:c="div",...u}){var m,p;const h=Pt(null),x=Pt({onDragging:i});kt((()=>{x.current.onDragging=i}));const g=Nt(Et);if(null===g)throw Error("PanelResizeHandle components must be rendered within a PanelGroup container");const{direction:f,groupId:v,registerResizeHandle:y,startDragging:b,stopDragging:j,panelGroupElement:N}=g,k=Rt(a),[w,S]=Dt("inactive"),[C,P]=Dt(!1),[D,L]=Dt(null),z=Pt({state:w});It((()=>{z.current.state=w})),kt((()=>{if(n)L(null);else{const e=y(k);L((()=>e))}}),[n,k,y]);const E=null!==(m=null==r?void 0:r.coarse)&&void 0!==m?m:15,I=null!==(p=null==r?void 0:r.fine)&&void 0!==p?p:5;kt((()=>{if(n||null==D)return;const e=h.current;gn(e,"Element ref not attached");return function(e,t,n,r,a){var s;const{ownerDocument:i}=t,l={direction:n,element:t,hitAreaMargins:r,setResizeHandlerState:a},o=null!==(s=an.get(i))&&void 0!==s?s:0;return an.set(i,o+1),ln.add(l),hn(),function(){var t;sn.delete(e),ln.delete(l);const n=null!==(t=an.get(i))&&void 0!==t?t:1;if(an.set(i,n-1),hn(),1===n&&an.delete(i),nn.includes(l)){const e=nn.indexOf(l);e>=0&&nn.splice(e,1),pn(),a("up",!0,null)}}}(k,e,f,{coarse:E,fine:I},((e,t,n)=>{if(t)switch(e){case"down":{S("drag"),gn(n,'Expected event to be defined for "down" action'),b(k,n);const{onDragging:e}=x.current;e&&e(!0);break}case"move":{const{state:e}=z.current;"drag"!==e&&S("hover"),gn(n,'Expected event to be defined for "move" action'),D(n);break}case"up":{S("hover"),j();const{onDragging:e}=x.current;e&&e(!1);break}}else S("inactive")}))}),[E,f,n,I,y,k,D,b,j]),function({disabled:e,handleId:t,resizeHandler:n,panelGroupElement:r}){kt((()=>{if(e||null==n||null==r)return;const a=Pn(t,r);if(null==a)return;const s=e=>{if(!e.defaultPrevented)switch(e.key){case"ArrowDown":case"ArrowLeft":case"ArrowRight":case"ArrowUp":case"End":case"Home":e.preventDefault(),n(e);break;case"F6":{e.preventDefault();const n=a.getAttribute("data-panel-group-id");gn(n,`No group element found for id "${n}"`);const s=kn(n,r),i=wn(n,t,r);gn(null!==i,`No resize element found for id "${t}"`),s[e.shiftKey?i>0?i-1:s.length-1:i+1<s.length?i+1:0].focus();break}}};return a.addEventListener("keydown",s),()=>{a.removeEventListener("keydown",s)}}),[r,e,t,n])}({disabled:n,handleId:k,resizeHandler:D,panelGroupElement:N});return ft(c,{...u,children:e,className:t,id:a,onBlur:()=>{P(!1),null==s||s()},onFocus:()=>{P(!0),null==l||l()},ref:h,role:"separator",style:{touchAction:"none",userSelect:"none",...o},tabIndex:d,"data-panel-group-direction":f,"data-panel-group-id":v,"data-resize-handle":"","data-resize-handle-active":"drag"===w?"pointer":C?"keyboard":void 0,"data-resize-handle-state":w,"data-panel-resize-handle-enabled":!n,"data-panel-resize-handle-id":k})}Hn.displayName="PanelGroup",Vn.displayName="forwardRef(PanelGroup)",Xn.displayName="PanelResizeHandle";const Wn=({className:t,...n})=>e.jsx(Vn,{className:w("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",t),...n}),Jn=_t,Yn=({withHandle:t,className:n,...r})=>e.jsx(Xn,{className:w("relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[panel-group-direction=vertical]:h-px data-[panel-group-direction=vertical]:w-full data-[panel-group-direction=vertical]:after:left-0 data-[panel-group-direction=vertical]:after:h-1 data-[panel-group-direction=vertical]:after:w-full data-[panel-group-direction=vertical]:after:-translate-y-1/2 data-[panel-group-direction=vertical]:after:translate-x-0 [&[data-panel-group-direction=vertical]>div]:rotate-90",n),...r,children:t&&e.jsx("div",{className:"z-10 flex h-4 w-3 items-center justify-center rounded-sm border bg-border",children:e.jsx(ue,{className:"h-2.5 w-2.5"})})}),Un=({pickupCountry:t,setPickupCountry:n,pickupPostalCode:r,setPickupPostalCode:a,deliveryCountry:s,setDeliveryCountry:i,deliveryPostalCode:l,setDeliveryPostalCode:o,onSwapLocations:d})=>e.jsxs(Wn,{direction:"horizontal",className:"min-h-[200px] rounded-lg border mb-8",children:[e.jsx(Jn,{defaultSize:50,children:e.jsxs("div",{className:"p-0",children:[e.jsx("div",{className:"bg-slate-700 text-white p-3 font-semibold",children:"FrÃ¥n"}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"fromCountry",children:"Land"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{id:"fromCountry",className:"w-full h-10 pl-10 pr-4 rounded-md border border-input bg-background appearance-none cursor-pointer",value:t,onChange:e=>n(e.target.value),children:[e.jsx("option",{value:"SE",children:"Sverige"}),e.jsx("option",{value:"FI",children:"Finland"}),e.jsx("option",{value:"NO",children:"Norge"}),e.jsx("option",{value:"DK",children:"Danmark"})]}),e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:$(t)}),e.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none",children:e.jsx("svg",{width:"12",height:"8",viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M1 1.5L6 6.5L11 1.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"fromPostal",children:"Postnummer"}),e.jsx(A,{id:"fromPostal",placeholder:"Enter postal code",value:r,onChange:e=>a(e.target.value)}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[r,", Stockholm"]})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",id:"fromCompany",name:"fromType",className:"h-4 w-4 rounded-full border-gray-300 text-primary focus:ring-primary"}),e.jsx(f,{htmlFor:"fromCompany",children:"FÃ¶retag"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",id:"fromPrivate",name:"fromType",className:"h-4 w-4 rounded-full border-gray-300 text-primary focus:ring-primary",defaultChecked:!0}),e.jsx(f,{htmlFor:"fromPrivate",children:"Privatperson"})]})]})]})]})}),e.jsx(Yn,{withHandle:!0,children:e.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 p-2 rounded-full bg-slate-200 hover:bg-slate-300 cursor-pointer z-10",onClick:d,children:e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M7 16L3 12M3 12L7 8M3 12H21M17 8L21 12M21 12L17 16",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})}),e.jsx(Jn,{defaultSize:50,children:e.jsxs("div",{className:"p-0",children:[e.jsx("div",{className:"bg-slate-700 text-white p-3 font-semibold",children:"Till"}),e.jsxs("div",{className:"p-4 space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"toCountry",children:"Land"}),e.jsxs("div",{className:"relative",children:[e.jsxs("select",{id:"toCountry",className:"w-full h-10 pl-10 pr-4 rounded-md border border-input bg-background appearance-none cursor-pointer",value:s,onChange:e=>i(e.target.value),children:[e.jsx("option",{value:"SE",children:"Sverige"}),e.jsx("option",{value:"FI",children:"Finland"}),e.jsx("option",{value:"NO",children:"Norge"}),e.jsx("option",{value:"DK",children:"Danmark"})]}),e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:$(s)}),e.jsx("div",{className:"absolute right-3 top-1/2 -translate-y-1/2 pointer-events-none",children:e.jsx("svg",{width:"12",height:"8",viewBox:"0 0 12 8",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:e.jsx("path",{d:"M1 1.5L6 6.5L11 1.5",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})})})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(f,{htmlFor:"toPostal",children:"Postnummer"}),e.jsx(A,{id:"toPostal",placeholder:"Enter postal code",value:l,onChange:e=>o(e.target.value)}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[l,", Helsinki"]})]}),e.jsxs("div",{className:"flex space-x-4",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",id:"toCompany",name:"toType",className:"h-4 w-4 rounded-full border-gray-300 text-primary focus:ring-primary"}),e.jsx(f,{htmlFor:"toCompany",children:"FÃ¶retag"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"radio",id:"toPrivate",name:"toType",className:"h-4 w-4 rounded-full border-gray-300 text-primary focus:ring-primary",defaultChecked:!0}),e.jsx(f,{htmlFor:"toPrivate",children:"Privatperson"})]})]})]})]})})]}),Kn=({currentStep:t})=>e.jsxs("div",{className:"flex items-center gap-4 mb-8",children:[e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full "+(t>=1?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"),children:e.jsx("span",{className:"text-xs font-bold",children:"1"})}),e.jsx("h2",{className:"text-sm "+(t>=1?"font-medium":"text-muted-foreground"),children:"Overview"}),e.jsx("div",{className:"flex-1 flex items-center gap-4",children:e.jsx("div",{className:"flex-1 h-px bg-border"})}),e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full "+(t>=2?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"),children:e.jsx("span",{className:"text-xs font-bold",children:"2"})}),e.jsx("span",{className:"text-sm "+(t>=2?"font-medium":"text-muted-foreground"),children:"Package Details"}),e.jsx("div",{className:"flex-1 flex items-center gap-4",children:e.jsx("div",{className:"flex-1 h-px bg-border"})}),e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full "+(t>=3?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"),children:e.jsx("span",{className:"text-xs font-bold",children:"3"})}),e.jsx("span",{className:"text-sm "+(t>=3?"font-medium":"text-muted-foreground"),children:"Address"}),e.jsx("div",{className:"flex-1 flex items-center gap-4",children:e.jsx("div",{className:"flex-1 h-px bg-border"})}),e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full "+(t>=4?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"),children:e.jsx("span",{className:"text-xs font-bold",children:"4"})}),e.jsx("span",{className:"text-sm "+(t>=4?"font-medium":"text-muted-foreground"),children:"Payment"}),e.jsx("div",{className:"flex-1 flex items-center gap-4",children:e.jsx("div",{className:"flex-1 h-px bg-border"})}),e.jsx("div",{className:"flex h-8 w-8 items-center justify-center rounded-full "+(t>=5?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"),children:e.jsx("span",{className:"text-xs font-bold",children:"4"})}),e.jsx("span",{className:"text-sm "+(t>=5?"font-medium":"text-muted-foreground"),children:"Booking Completed"})]}),Zn=({bookingState:t})=>{const{currentStep:n,handleNextStep:r,handlePreviousStep:a,pickupCountry:s,setPickupCountry:i,pickupPostalCode:l,setPickupPostalCode:o,deliveryCountry:d,setDeliveryCountry:c,deliveryPostalCode:u,setDeliveryPostalCode:m,handleSwapLocations:p,selectedDeliveryOption:h,selectedVolume:x,setSelectedVolume:g,senderName:f,setSenderName:v,senderEmail:y,setSenderEmail:b,senderPhone:j,setSenderPhone:N,senderAddress:w,setSenderAddress:S,recipientName:C,setRecipientName:P,recipientEmail:D,setRecipientEmail:L,recipientPhone:z,setRecipientPhone:E,recipientAddress:I,setRecipientAddress:A,carrier:M,handlePaymentComplete:R}=t;return e.jsxs("form",{onSubmit:e=>{e.preventDefault(),n<4&&r()},children:[e.jsx(Kn,{currentStep:n}),1===n&&e.jsxs("div",{children:[e.jsx(Un,{pickupCountry:s,setPickupCountry:i,pickupPostalCode:l,setPickupPostalCode:o,deliveryCountry:d,setDeliveryCountry:c,deliveryPostalCode:u,setDeliveryPostalCode:m,onSwapLocations:p}),e.jsx(we,{bookingState:t})]}),2===n&&e.jsxs("div",{children:[e.jsx(Pe,{selectedVolume:x,setSelectedVolume:g}),e.jsxs("div",{className:"flex justify-between gap-4 mt-6",children:[e.jsx(k,{type:"button",variant:"outline",onClick:a,children:"Previous"}),e.jsx(k,{type:"button",onClick:r,className:"bg-green-600 hover:bg-green-700 text-white",children:"Continue"})]})]}),3===n&&e.jsxs("div",{children:[e.jsx(Se,{senderName:f,setSenderName:v,senderEmail:y,setSenderEmail:b,senderPhone:j,setSenderPhone:N,senderAddress:w,setSenderAddress:S,recipientName:C,setRecipientName:P,recipientEmail:D,setRecipientEmail:L,recipientPhone:z,setRecipientPhone:E,recipientAddress:I,setRecipientAddress:A,pickupCountry:s,pickupPostalCode:l,deliveryCountry:d,deliveryPostalCode:u}),e.jsx(De,{senderName:f,senderAddress:w,pickupPostalCode:l,pickupCountry:s,recipientName:C,recipientAddress:I,deliveryPostalCode:u,deliveryCountry:d}),e.jsxs("div",{className:"flex justify-between gap-4 mt-6",children:[e.jsx(k,{type:"button",variant:"outline",onClick:a,children:"Previous"}),e.jsx(k,{type:"button",onClick:r,className:"bg-green-600 hover:bg-green-700 text-white",children:"Continue to Payment"})]})]}),4===n&&e.jsx("div",{children:e.jsx(gt,{totalPrice:M.price,onPaymentComplete:R,onCancel:a})})]})},Qn=({customerType:t})=>{const{isSignedIn:n,user:r}=B(),a=h(),s=ve(null==r?void 0:r.id),{bookingConfirmed:i,bookingResult:l,canCancelBooking:o,labelLanguage:d,setLabelLanguage:c,isGeneratingLabel:m,carrier:p,handleGenerateLabel:x,handleCancelBooking:g,checkSavedBooking:f}=s;return u.useEffect((()=>{n&&r&&f()}),[n,r]),u.useEffect((()=>{s.showPriceCalendar&&s.loadPriceCalendarData()}),[s.showPriceCalendar,s.currentMonth]),i?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(O,{}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx(be,{bookingResult:l,carrier:p,canCancelBooking:o,labelLanguage:d,setLabelLanguage:c,isGeneratingLabel:m,handleGenerateLabel:x,handleCancelBooking:g,onBookAnother:()=>{s.setBookingConfirmed(!1),s.setBookingResult(null),localStorage.removeItem("lastBooking"),a("/shipment")}})})]}):e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(O,{}),e.jsx("div",{className:"container mx-auto px-4 py-8",children:e.jsx("div",{className:"max-w-5xl mx-auto",children:e.jsx(Zn,{bookingState:s})})})]})};export{Qn as default};
