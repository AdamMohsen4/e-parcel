import{r as e,F as s,j as t}from"./vendor-react-c2Vhr46D.js";import{N as a,C as r,e as i,j as n,a as d,I as c,B as l,t as m}from"./index-C-QwnRat.js";import{S as o}from"./separator-DUgnfTJS.js";import{trackShipment as x}from"./shipmentService-ZtXOCdjB.js";import"./vendor-Do_qGNvM.js";import"./vendor-ui-CttiZxwU.js";const u=()=>{const[u,p]=e.useState(""),[h,j]=e.useState(!1),[g,v]=e.useState(!1),[N,f]=e.useState(null),{t:k}=s();return t.jsxs("div",{className:"min-h-screen bg-background",children:[t.jsx(a,{}),t.jsx("div",{className:"container mx-auto px-4 py-8",children:t.jsxs(r,{className:"max-w-3xl mx-auto",children:[t.jsx(i,{children:t.jsx(n,{children:k("tracking.title")})}),t.jsxs(d,{children:[t.jsx("form",{onSubmit:async e=>{if(e.preventDefault(),u.trim()){v(!0),j(!0);try{const e=await x(u);e?f(e):m({title:"Tracking Not Found",description:"No shipment found with this tracking number. Please check and try again.",variant:"destructive"})}catch(s){m({title:"Tracking Error",description:"An error occurred while trying to track your shipment",variant:"destructive"})}finally{v(!1)}}else m({title:"Tracking Error",description:"Please enter a valid tracking number",variant:"destructive"})},className:"space-y-4",children:t.jsxs("div",{className:"flex space-x-2",children:[t.jsx(c,{placeholder:k("tracking.placeholder"),value:u,onChange:e=>p(e.target.value),className:"flex-1"}),t.jsx(l,{type:"submit",disabled:g,children:g?"Loading...":k("tracking.track")})]})}),h&&N&&t.jsxs("div",{className:"mt-8 space-y-6 animate-fade-in",children:[t.jsx("div",{className:"bg-muted p-4 rounded-lg",children:t.jsxs("div",{className:"flex justify-between items-center",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:k("tracking.trackingNumber")}),t.jsx("p",{className:"font-bold",children:N.trackingCode})]}),t.jsxs("div",{className:"bg-primary/10 text-primary px-3 py-1 rounded-full",children:["pending"===N.status&&"Pending","picked_up"===N.status&&"Picked Up","in_transit"===N.status&&"In Transit","delivered"===N.status&&"Delivered","exception"===N.status&&"Exception"]})]})}),t.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:k("tracking.from")}),t.jsx("p",{children:N.pickup})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:k("tracking.to")}),t.jsx("p",{children:N.delivery})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:k("tracking.carrier")}),t.jsx("p",{children:N.carrier.name})]}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:k("tracking.estimatedDelivery")}),t.jsx("p",{children:N.estimatedDelivery||"Not available"})]})]}),t.jsx(o,{}),t.jsxs("div",{children:[t.jsx("h3",{className:"font-semibold mb-4",children:k("tracking.trackingHistory")}),t.jsxs("div",{className:"relative pl-6 space-y-6",children:[t.jsx("div",{className:"absolute top-0 bottom-0 left-2 w-0.5 bg-muted"}),N.events.map(((e,s)=>t.jsxs("div",{className:"relative",children:[t.jsx("div",{className:"absolute -left-6 mt-1.5 w-4 h-4 rounded-full bg-primary"}),t.jsxs("div",{children:[t.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(e.date).toLocaleString()}),t.jsx("p",{className:"font-medium",children:e.status}),t.jsx("p",{className:"text-sm",children:e.location}),e.description&&t.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:e.description})]})]},s)))]})]}),t.jsx("div",{className:"mt-6",children:t.jsxs("div",{className:"bg-muted p-4 rounded-lg",children:[t.jsx("h4",{className:"font-medium mb-2",children:k("tracking.needHelp")}),t.jsx("p",{className:"text-sm text-muted-foreground",children:k("tracking.helpText")})]})})]}),h&&!N&&!g&&t.jsx("div",{className:"mt-8 p-4 bg-muted rounded-lg",children:t.jsxs("p",{className:"text-center",children:["No shipment found with tracking number: ",u]})})]})]})})]})};export{u as default};
